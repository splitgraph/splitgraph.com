


export const meta = {
  title: "splitgraph.ingestion.singer package",
  id: "splitgraph.ingestion.singer package"
};

<div className=" rst-content"><nav className="toc"><ol className="toc-level toc-level-1"><li className="toc-item toc-item-h2"><a className="toc-link toc-link-h2" href="#module-contents">Module contents</a></li><li className="toc-item toc-item-h2"><a className="toc-link toc-link-h2" href="#submodules">Submodules</a><ol className="toc-level toc-level-2"><li className="toc-item toc-item-h2"><a className="toc-link toc-link-h2" href="#splitgraphingestionsingercommandline-module">splitgraph.ingestion.singer.commandline module</a></li><li className="toc-item toc-item-h2"><a className="toc-link toc-link-h2" href="#splitgraphingestionsingercommon-module">splitgraph.ingestion.singer.common module</a></li><li className="toc-item toc-item-h2"><a className="toc-link toc-link-h2" href="#splitgraphingestionsingerdata_source-module">splitgraph.ingestion.singer.data_source module</a></li><li className="toc-item toc-item-h2"><a className="toc-link toc-link-h2" href="#splitgraphingestionsingerdb_sync-module">splitgraph.ingestion.singer.db_sync module</a></li></ol></li></ol></nav><div className="section" id="module-splitgraph.ingestion.singer">
<span id="module-contents"></span><h2 id="module-contents">Module contents<a className="headerlink" href="#module-splitgraph.ingestion.singer" title="Permalink to this headline">¶</a></h2>
</div><div className="section" id="splitgraph-ingestion-singer-package">

<div className="section" id="submodules">
<h2 id="submodules">Submodules<a className="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div className="section" id="module-splitgraph.ingestion.singer.commandline">
<span id="splitgraph-ingestion-singer-commandline-module"></span><h2 id="splitgraphingestionsingercommandline-module">splitgraph.ingestion.singer.commandline module<a className="headerlink" href="#module-splitgraph.ingestion.singer.commandline" title="Permalink to this headline">¶</a></h2>
<p>Command line tools for building Splitgraph images from Singer taps, including using Splitgraph as a Singer target.</p>
</div>
<div className="section" id="module-splitgraph.ingestion.singer.common">
<span id="splitgraph-ingestion-singer-common-module"></span><h2 id="splitgraphingestionsingercommon-module">splitgraph.ingestion.singer.common module<a className="headerlink" href="#module-splitgraph.ingestion.singer.common" title="Permalink to this headline">¶</a></h2>
<dl className="py function">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.common.add_timestamp_tags">
<span className="sig-prename descclassname"><span className="pre">splitgraph.ingestion.singer.common.</span></span><span className="sig-name descname"><span className="pre">add_timestamp_tags</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">repository</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><a className="reference internal" href="splitgraph.core/#splitgraph.core.repository.Repository" title="splitgraph.core.repository.Repository"><span className="pre">splitgraph.core.repository.Repository</span></a></span></em>, <em className="sig-param"><span className="n"><span className="pre">image_hash</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">str</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.common.add_timestamp_tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py function">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.common.log_exception">
<span className="sig-prename descclassname"><span className="pre">splitgraph.ingestion.singer.common.</span></span><span className="sig-name descname"><span className="pre">log_exception</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">f</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.common.log_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit exceptions with full traceback instead of just the error text</p>
</dd></dl>

<dl className="py function">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.common.rollback_at_end">
<span className="sig-prename descclassname"><span className="pre">splitgraph.ingestion.singer.common.</span></span><span className="sig-name descname"><span className="pre">rollback_at_end</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">func</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">collections.abc.Callable</span></span></em><span className="sig-paren">)</span> <span className="sig-return"><span className="sig-return-icon">→</span> <span className="sig-return-typehint"><span className="pre">collections.abc.Callable</span></span></span><a className="headerlink" href="#splitgraph.ingestion.singer.common.rollback_at_end" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py function">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.common.store_ingestion_state">
<span className="sig-prename descclassname"><span className="pre">splitgraph.ingestion.singer.common.</span></span><span className="sig-name descname"><span className="pre">store_ingestion_state</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">repository</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><a className="reference internal" href="splitgraph.core/#splitgraph.core.repository.Repository" title="splitgraph.core.repository.Repository"><span className="pre">splitgraph.core.repository.Repository</span></a></span></em>, <em className="sig-param"><span className="n"><span className="pre">image_hash</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">str</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">current_state</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Optional</span><span className="p"><span className="pre">[</span></span><span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Any</span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span></span></em>, <em className="sig-param"><span className="n"><span className="pre">new_state</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">str</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.common.store_ingestion_state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div className="section" id="module-splitgraph.ingestion.singer.data_source">
<span id="splitgraph-ingestion-singer-data-source-module"></span><h2 id="splitgraphingestionsingerdata_source-module">splitgraph.ingestion.singer.data_source module<a className="headerlink" href="#module-splitgraph.ingestion.singer.data_source" title="Permalink to this headline">¶</a></h2>
<dl className="py class">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.GenericSingerDataSource">
<em className="property"><span className="pre">class</span> </em><span className="sig-prename descclassname"><span className="pre">splitgraph.ingestion.singer.data_source.</span></span><span className="sig-name descname"><span className="pre">GenericSingerDataSource</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="o"><span className="pre">*</span></span><span className="n"><span className="pre">args</span></span></em>, <em className="sig-param"><span className="o"><span className="pre">**</span></span><span className="n"><span className="pre">kwargs</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.GenericSingerDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a className="reference internal" href="#splitgraph.ingestion.singer.data_source.SingerDataSource" title="splitgraph.ingestion.singer.data_source.SingerDataSource"><code className="xref py py-class docutils literal notranslate"><span className="pre">splitgraph.ingestion.singer.data_source.SingerDataSource</span></code></a></p>
<dl className="py attribute">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.GenericSingerDataSource.credentials_schema">
<span className="sig-name descname"><span className="pre">credentials_schema</span></span><em className="property"><span className="pre">:</span> <span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Any</span><span className="p"><span className="pre">]</span></span></em><em className="property"> <span className="pre">=</span> <span className="pre">&#38;lbrace;'type':</span> <span className="pre">'object'&#38;rbrace;</span></em><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.GenericSingerDataSource.credentials_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.GenericSingerDataSource.get_description">
<em className="property"><span className="pre">classmethod</span> </em><span className="sig-name descname"><span className="pre">get_description</span></span><span className="sig-paren">(</span><span className="sig-paren">)</span> <span className="sig-return"><span className="sig-return-icon">→</span> <span className="sig-return-typehint"><span className="pre">str</span></span></span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.GenericSingerDataSource.get_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.GenericSingerDataSource.get_name">
<em className="property"><span className="pre">classmethod</span> </em><span className="sig-name descname"><span className="pre">get_name</span></span><span className="sig-paren">(</span><span className="sig-paren">)</span> <span className="sig-return"><span className="sig-return-icon">→</span> <span className="sig-return-typehint"><span className="pre">str</span></span></span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.GenericSingerDataSource.get_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.GenericSingerDataSource.get_singer_executable">
<span className="sig-name descname"><span className="pre">get_singer_executable</span></span><span className="sig-paren">(</span><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.GenericSingerDataSource.get_singer_executable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py attribute">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.GenericSingerDataSource.params_schema">
<span className="sig-name descname"><span className="pre">params_schema</span></span><em className="property"><span className="pre">:</span> <span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Any</span><span className="p"><span className="pre">]</span></span></em><em className="property"> <span className="pre">=</span> <span className="pre">&#38;lbrace;'properties':</span> <span className="pre">&#38;lbrace;'tap_path':</span> <span className="pre">&#38;lbrace;'type':</span> <span className="pre">'string'&#38;rbrace;&#38;rbrace;,</span> <span className="pre">'required':</span> <span className="pre">['tap_path'],</span> <span className="pre">'type':</span> <span className="pre">'object'&#38;rbrace;</span></em><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.GenericSingerDataSource.params_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl className="py class">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.MySQLSingerDataSource">
<em className="property"><span className="pre">class</span> </em><span className="sig-prename descclassname"><span className="pre">splitgraph.ingestion.singer.data_source.</span></span><span className="sig-name descname"><span className="pre">MySQLSingerDataSource</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">engine</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">PostgresEngine</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">credentials</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Credentials</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">params</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Params</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">tables</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Optional</span><span className="p"><span className="pre">[</span></span><span className="pre">Union</span><span className="p"><span className="pre">[</span></span><span className="pre">List</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">,</span> </span><span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Tuple</span><span className="p"><span className="pre">[</span></span><span className="pre">List</span><span className="p"><span className="pre">[</span></span><a className="reference internal" href="splitgraph.core/#splitgraph.core.types.TableColumn" title="splitgraph.core.types.TableColumn"><span className="pre">splitgraph.core.types.TableColumn</span></a><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">,</span> </span><span className="pre">TableParams</span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span></span> <span className="o"><span className="pre">=</span></span> <span className="default_value"><span className="pre">None</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.MySQLSingerDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a className="reference internal" href="#splitgraph.ingestion.singer.data_source.SingerDataSource" title="splitgraph.ingestion.singer.data_source.SingerDataSource"><code className="xref py py-class docutils literal notranslate"><span className="pre">splitgraph.ingestion.singer.data_source.SingerDataSource</span></code></a></p>
<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.build_singer_catalog">
<span className="sig-name descname"><span className="pre">build_singer_catalog</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">catalog</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Any</span><span className="p"><span className="pre">]</span></span></span></em>, <em className="sig-param"><span className="n"><span className="pre">tables</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Optional</span><span className="p"><span className="pre">[</span></span><span className="pre">Union</span><span className="p"><span className="pre">[</span></span><span className="pre">List</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">,</span> </span><span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Tuple</span><span className="p"><span className="pre">[</span></span><span className="pre">List</span><span className="p"><span className="pre">[</span></span><a className="reference internal" href="splitgraph.core/#splitgraph.core.types.TableColumn" title="splitgraph.core.types.TableColumn"><span className="pre">splitgraph.core.types.TableColumn</span></a><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">,</span> </span><span className="pre">TableParams</span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span></span> <span className="o"><span className="pre">=</span></span> <span className="default_value"><span className="pre">None</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.build_singer_catalog" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py attribute">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.credentials_schema">
<span className="sig-name descname"><span className="pre">credentials_schema</span></span><em className="property"><span className="pre">:</span> <span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Any</span><span className="p"><span className="pre">]</span></span></em><em className="property"> <span className="pre">=</span> <span className="pre">&#38;lbrace;'properties':</span> <span className="pre">&#38;lbrace;'password':</span> <span className="pre">&#38;lbrace;'type':</span> <span className="pre">'string'&#38;rbrace;,</span> <span className="pre">'user':</span> <span className="pre">&#38;lbrace;'type':</span> <span className="pre">'string'&#38;rbrace;&#38;rbrace;,</span> <span className="pre">'required':</span> <span className="pre">['user',</span> <span className="pre">'password'],</span> <span className="pre">'type':</span> <span className="pre">'object'&#38;rbrace;</span></em><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.credentials_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.get_description">
<em className="property"><span className="pre">classmethod</span> </em><span className="sig-name descname"><span className="pre">get_description</span></span><span className="sig-paren">(</span><span className="sig-paren">)</span> <span className="sig-return"><span className="sig-return-icon">→</span> <span className="sig-return-typehint"><span className="pre">str</span></span></span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.get_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.get_name">
<em className="property"><span className="pre">classmethod</span> </em><span className="sig-name descname"><span className="pre">get_name</span></span><span className="sig-paren">(</span><span className="sig-paren">)</span> <span className="sig-return"><span className="sig-return-icon">→</span> <span className="sig-return-typehint"><span className="pre">str</span></span></span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.get_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.get_singer_executable">
<span className="sig-name descname"><span className="pre">get_singer_executable</span></span><span className="sig-paren">(</span><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.get_singer_executable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py attribute">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.params_schema">
<span className="sig-name descname"><span className="pre">params_schema</span></span><em className="property"><span className="pre">:</span> <span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Any</span><span className="p"><span className="pre">]</span></span></em><em className="property"> <span className="pre">=</span> <span className="pre">&#38;lbrace;'properties':</span> <span className="pre">&#38;lbrace;'host':</span> <span className="pre">&#38;lbrace;'type':</span> <span className="pre">'string'&#38;rbrace;,</span> <span className="pre">'port':</span> <span className="pre">&#38;lbrace;'type':</span> <span className="pre">'integer'&#38;rbrace;,</span> <span className="pre">'replication_method':</span> <span className="pre">&#38;lbrace;'enum':</span> <span className="pre">['INCREMENTAL',</span> <span className="pre">'LOG_BASED',</span> <span className="pre">'FULL</span> <span className="pre">TABLE'],</span> <span className="pre">'type':</span> <span className="pre">'string'&#38;rbrace;&#38;rbrace;,</span> <span className="pre">'required':</span> <span className="pre">['host',</span> <span className="pre">'port',</span> <span className="pre">'replication_method'],</span> <span className="pre">'type':</span> <span className="pre">'object'&#38;rbrace;</span></em><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.params_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py attribute">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.use_legacy_stream_selection">
<span className="sig-name descname"><span className="pre">use_legacy_stream_selection</span></span><em className="property"> <span className="pre">=</span> <span className="pre">False</span></em><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.use_legacy_stream_selection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py attribute">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.use_properties">
<span className="sig-name descname"><span className="pre">use_properties</span></span><em className="property"> <span className="pre">=</span> <span className="pre">True</span></em><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.MySQLSingerDataSource.use_properties" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl className="py class">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.SingerDataSource">
<em className="property"><span className="pre">class</span> </em><span className="sig-prename descclassname"><span className="pre">splitgraph.ingestion.singer.data_source.</span></span><span className="sig-name descname"><span className="pre">SingerDataSource</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">engine</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">PostgresEngine</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">credentials</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Credentials</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">params</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Params</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">tables</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Optional</span><span className="p"><span className="pre">[</span></span><span className="pre">Union</span><span className="p"><span className="pre">[</span></span><span className="pre">List</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">,</span> </span><span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Tuple</span><span className="p"><span className="pre">[</span></span><span className="pre">List</span><span className="p"><span className="pre">[</span></span><a className="reference internal" href="splitgraph.core/#splitgraph.core.types.TableColumn" title="splitgraph.core.types.TableColumn"><span className="pre">splitgraph.core.types.TableColumn</span></a><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">,</span> </span><span className="pre">TableParams</span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span></span> <span className="o"><span className="pre">=</span></span> <span className="default_value"><span className="pre">None</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.SingerDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a className="reference internal" href="splitgraph.hooks.data_source/#splitgraph.hooks.data_source.base.SyncableDataSource" title="splitgraph.hooks.data_source.base.SyncableDataSource"><code className="xref py py-class docutils literal notranslate"><span className="pre">splitgraph.hooks.data_source.base.SyncableDataSource</span></code></a>, <code className="xref py py-class docutils literal notranslate"><span className="pre">abc.ABC</span></code></p>
<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.SingerDataSource.build_singer_catalog">
<span className="sig-name descname"><span className="pre">build_singer_catalog</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">catalog</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Any</span><span className="p"><span className="pre">]</span></span></span></em>, <em className="sig-param"><span className="n"><span className="pre">tables</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Optional</span><span className="p"><span className="pre">[</span></span><span className="pre">Union</span><span className="p"><span className="pre">[</span></span><span className="pre">List</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">,</span> </span><span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Tuple</span><span className="p"><span className="pre">[</span></span><span className="pre">List</span><span className="p"><span className="pre">[</span></span><a className="reference internal" href="splitgraph.core/#splitgraph.core.types.TableColumn" title="splitgraph.core.types.TableColumn"><span className="pre">splitgraph.core.types.TableColumn</span></a><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">,</span> </span><span className="pre">TableParams</span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span></span> <span className="o"><span className="pre">=</span></span> <span className="default_value"><span className="pre">None</span></span></em><span className="sig-paren">)</span> <span className="sig-return"><span className="sig-return-icon">→</span> <span className="sig-return-typehint"><span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Any</span><span className="p"><span className="pre">]</span></span></span></span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.SingerDataSource.build_singer_catalog" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.SingerDataSource.get_singer_config">
<span className="sig-name descname"><span className="pre">get_singer_config</span></span><span className="sig-paren">(</span><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.SingerDataSource.get_singer_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.SingerDataSource.get_singer_executable">
<em className="property"><span className="pre">abstract</span> </em><span className="sig-name descname"><span className="pre">get_singer_executable</span></span><span className="sig-paren">(</span><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.SingerDataSource.get_singer_executable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.SingerDataSource.introspect">
<span className="sig-name descname"><span className="pre">introspect</span></span><span className="sig-paren">(</span><span className="sig-paren">)</span> <span className="sig-return"><span className="sig-return-icon">→</span> <span className="sig-return-typehint"><span className="pre">IntrospectionResult</span></span></span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.SingerDataSource.introspect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.SingerDataSource.load">
<span className="sig-name descname"><span className="pre">load</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">repository</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><a className="reference internal" href="splitgraph.core/#splitgraph.core.repository.Repository" title="splitgraph.core.repository.Repository"><span className="pre">splitgraph.core.repository.Repository</span></a></span></em>, <em className="sig-param"><span className="n"><span className="pre">tables</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Optional</span><span className="p"><span className="pre">[</span></span><span className="pre">Union</span><span className="p"><span className="pre">[</span></span><span className="pre">List</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">,</span> </span><span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Tuple</span><span className="p"><span className="pre">[</span></span><span className="pre">List</span><span className="p"><span className="pre">[</span></span><a className="reference internal" href="splitgraph.core/#splitgraph.core.types.TableColumn" title="splitgraph.core.types.TableColumn"><span className="pre">splitgraph.core.types.TableColumn</span></a><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">,</span> </span><span className="pre">TableParams</span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span></span> <span className="o"><span className="pre">=</span></span> <span className="default_value"><span className="pre">None</span></span></em><span className="sig-paren">)</span> <span className="sig-return"><span className="sig-return-icon">→</span> <span className="sig-return-typehint"><span className="pre">str</span></span></span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.SingerDataSource.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.SingerDataSource.sync">
<span className="sig-name descname"><span className="pre">sync</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">repository</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><a className="reference internal" href="splitgraph.core/#splitgraph.core.repository.Repository" title="splitgraph.core.repository.Repository"><span className="pre">splitgraph.core.repository.Repository</span></a></span></em>, <em className="sig-param"><span className="n"><span className="pre">image_hash</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Optional</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">]</span></span></span> <span className="o"><span className="pre">=</span></span> <span className="default_value"><span className="pre">None</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">tables</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Optional</span><span className="p"><span className="pre">[</span></span><span className="pre">Union</span><span className="p"><span className="pre">[</span></span><span className="pre">List</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">,</span> </span><span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Tuple</span><span className="p"><span className="pre">[</span></span><span className="pre">List</span><span className="p"><span className="pre">[</span></span><a className="reference internal" href="splitgraph.core/#splitgraph.core.types.TableColumn" title="splitgraph.core.types.TableColumn"><span className="pre">splitgraph.core.types.TableColumn</span></a><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">,</span> </span><span className="pre">TableParams</span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span></span> <span className="o"><span className="pre">=</span></span> <span className="default_value"><span className="pre">None</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">use_state</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">bool</span></span> <span className="o"><span className="pre">=</span></span> <span className="default_value"><span className="pre">True</span></span></em><span className="sig-paren">)</span> <span className="sig-return"><span className="sig-return-icon">→</span> <span className="sig-return-typehint"><span className="pre">str</span></span></span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.SingerDataSource.sync" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py attribute">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.SingerDataSource.use_legacy_stream_selection">
<span className="sig-name descname"><span className="pre">use_legacy_stream_selection</span></span><em className="property"> <span className="pre">=</span> <span className="pre">False</span></em><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.SingerDataSource.use_legacy_stream_selection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py attribute">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.SingerDataSource.use_properties">
<span className="sig-name descname"><span className="pre">use_properties</span></span><em className="property"> <span className="pre">=</span> <span className="pre">False</span></em><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.SingerDataSource.use_properties" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl className="py function">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.data_source.select_streams">
<span className="sig-prename descclassname"><span className="pre">splitgraph.ingestion.singer.data_source.</span></span><span className="sig-name descname"><span className="pre">select_streams</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">catalog</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Any</span><span className="p"><span className="pre">]</span></span></span></em>, <em className="sig-param"><span className="n"><span className="pre">tables</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Optional</span><span className="p"><span className="pre">[</span></span><span className="pre">Union</span><span className="p"><span className="pre">[</span></span><span className="pre">List</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">,</span> </span><span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Tuple</span><span className="p"><span className="pre">[</span></span><span className="pre">List</span><span className="p"><span className="pre">[</span></span><a className="reference internal" href="splitgraph.core/#splitgraph.core.types.TableColumn" title="splitgraph.core.types.TableColumn"><span className="pre">splitgraph.core.types.TableColumn</span></a><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">,</span> </span><span className="pre">TableParams</span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span><span className="p"><span className="pre">]</span></span></span> <span className="o"><span className="pre">=</span></span> <span className="default_value"><span className="pre">None</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">use_legacy_stream_selection</span></span><span className="o"><span className="pre">=</span></span><span className="default_value"><span className="pre">False</span></span></em><span className="sig-paren">)</span> <span className="sig-return"><span className="sig-return-icon">→</span> <span className="sig-return-typehint"><span className="pre">Dict</span><span className="p"><span className="pre">[</span></span><span className="pre">str</span><span className="p"><span className="pre">,</span> </span><span className="pre">Any</span><span className="p"><span className="pre">]</span></span></span></span><a className="headerlink" href="#splitgraph.ingestion.singer.data_source.select_streams" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div className="section" id="module-splitgraph.ingestion.singer.db_sync">
<span id="splitgraph-ingestion-singer-db-sync-module"></span><h2 id="splitgraphingestionsingerdb_sync-module">splitgraph.ingestion.singer.db_sync module<a className="headerlink" href="#module-splitgraph.ingestion.singer.db_sync" title="Permalink to this headline">¶</a></h2>
<dl className="py class">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.db_sync.DbSyncProxy">
<em className="property"><span className="pre">class</span> </em><span className="sig-prename descclassname"><span className="pre">splitgraph.ingestion.singer.db_sync.</span></span><span className="sig-name descname"><span className="pre">DbSyncProxy</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="o"><span className="pre">*</span></span><span className="n"><span className="pre">args</span></span></em>, <em className="sig-param"><span className="o"><span className="pre">**</span></span><span className="n"><span className="pre">kwargs</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.db_sync.DbSyncProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code className="xref py py-class docutils literal notranslate"><span className="pre">target_postgres.db_sync.DbSync</span></code></p>
<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.db_sync.DbSyncProxy.create_indices">
<span className="sig-name descname"><span className="pre">create_indices</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">stream</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.db_sync.DbSyncProxy.create_indices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.db_sync.DbSyncProxy.create_schema_if_not_exists">
<span className="sig-name descname"><span className="pre">create_schema_if_not_exists</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">table_columns_cache</span></span><span className="o"><span className="pre">=</span></span><span className="default_value"><span className="pre">None</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.db_sync.DbSyncProxy.create_schema_if_not_exists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.db_sync.DbSyncProxy.delete_rows">
<span className="sig-name descname"><span className="pre">delete_rows</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">stream</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.db_sync.DbSyncProxy.delete_rows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.db_sync.DbSyncProxy.load_csv">
<span className="sig-name descname"><span className="pre">load_csv</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">file</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">count</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">size_bytes</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.db_sync.DbSyncProxy.load_csv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py method">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.db_sync.DbSyncProxy.sync_table">
<span className="sig-name descname"><span className="pre">sync_table</span></span><span className="sig-paren">(</span><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.db_sync.DbSyncProxy.sync_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl className="py function">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.db_sync.db_sync_wrapper">
<span className="sig-prename descclassname"><span className="pre">splitgraph.ingestion.singer.db_sync.</span></span><span className="sig-name descname"><span className="pre">db_sync_wrapper</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">image</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><a className="reference internal" href="splitgraph.core/#splitgraph.core.image.Image" title="splitgraph.core.image.Image"><span className="pre">splitgraph.core.image.Image</span></a></span></em>, <em className="sig-param"><span className="n"><span className="pre">staging_schema</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">str</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.db_sync.db_sync_wrapper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py function">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.db_sync.get_key_properties">
<span className="sig-prename descclassname"><span className="pre">splitgraph.ingestion.singer.db_sync.</span></span><span className="sig-name descname"><span className="pre">get_key_properties</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">stream_message</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.db_sync.get_key_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the PK from a stream message. Supports both legacy (“key_properties”) and
new (“metadata”) Singer taps.</p>
</dd></dl>

<dl className="py function">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.db_sync.get_sg_schema">
<span className="sig-prename descclassname"><span className="pre">splitgraph.ingestion.singer.db_sync.</span></span><span className="sig-name descname"><span className="pre">get_sg_schema</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">stream_schema_message</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">flattening_max_level</span></span><span className="o"><span className="pre">=</span></span><span className="default_value"><span className="pre">0</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.db_sync.get_sg_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py function">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.db_sync.get_table_name">
<span className="sig-prename descclassname"><span className="pre">splitgraph.ingestion.singer.db_sync.</span></span><span className="sig-name descname"><span className="pre">get_table_name</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">stream_schema_message</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.db_sync.get_table_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py function">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.db_sync.run_patched_sync">
<span className="sig-prename descclassname"><span className="pre">splitgraph.ingestion.singer.db_sync.</span></span><span className="sig-name descname"><span className="pre">run_patched_sync</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">repository</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><a className="reference internal" href="splitgraph.core/#splitgraph.core.repository.Repository" title="splitgraph.core.repository.Repository"><span className="pre">splitgraph.core.repository.Repository</span></a></span></em>, <em className="sig-param"><span className="n"><span className="pre">base_image</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Optional</span><span className="p"><span className="pre">[</span></span><a className="reference internal" href="splitgraph.core/#splitgraph.core.image.Image" title="splitgraph.core.image.Image"><span className="pre">splitgraph.core.image.Image</span></a><span className="p"><span className="pre">]</span></span></span></em>, <em className="sig-param"><span className="n"><span className="pre">new_image_hash</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">str</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">delete_old</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">bool</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">failure</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">str</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">input_stream</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Optional</span><span className="p"><span className="pre">[</span></span><span className="pre">BinaryIO</span><span className="p"><span className="pre">]</span></span></span> <span className="o"><span className="pre">=</span></span> <span className="default_value"><span className="pre">None</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">output_stream</span></span><span className="p"><span className="pre">:</span></span> <span className="n"><span className="pre">Optional</span><span className="p"><span className="pre">[</span></span><span className="pre">TextIO</span><span className="p"><span className="pre">]</span></span></span> <span className="o"><span className="pre">=</span></span> <span className="default_value"><span className="pre">None</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.db_sync.run_patched_sync" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl className="py function">
<dt className="sig sig-object py" id="splitgraph.ingestion.singer.db_sync.select_breadcrumb">
<span className="sig-prename descclassname"><span className="pre">splitgraph.ingestion.singer.db_sync.</span></span><span className="sig-name descname"><span className="pre">select_breadcrumb</span></span><span className="sig-paren">(</span><em className="sig-param"><span className="n"><span className="pre">stream_message</span></span></em>, <em className="sig-param"><span className="n"><span className="pre">breadcrumb</span></span></em><span className="sig-paren">)</span><a className="headerlink" href="#splitgraph.ingestion.singer.db_sync.select_breadcrumb" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>

</div>
</div>